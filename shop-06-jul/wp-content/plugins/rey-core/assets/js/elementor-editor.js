!function(l){"use strict";if("undefined"!=typeof elementor){var e,t,n,o="undefined"!=typeof reyElementorEditorParams?reyElementorEditorParams:{},r=elementor.settings.page.getSettings();o.reload_text;elementor.settings.page.addChangeCallback("rey_stretch_page",function(e){var t=l(".rey-siteContainer",elementor.$previewContents),n="rey-stretchPage";e==n?t.addClass(n):t.removeClass(n)}),elementor.settings.page.addChangeCallback("header_layout_type",function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",function(){elementor.getPanelView().setPage("page_settings")})}})}),elementor.settings.page.addChangeCallback("header_position",function(e){var t=l(".rey-siteHeader",elementor.$previewContents);l(".elementor-control-header_position .elementor-control-content");t.removeClass(function(e,t){return(t.match(/(^|\s)header-pos--\S+/g)||[]).join(" ")}),""==e?t.addClass("header-pos--"+r.settings.header_position):t.addClass("header-pos--"+e)}),elementor.settings.page.addChangeCallback("footer_layout_type",function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",function(){elementor.getPanelView().setPage("page_settings")})}})}),elementor.settings.page.addChangeCallback("gs_type",function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview()}})}),elementor.settings.page.addChangeCallback("rey_custom_logo",function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",function(){elementor.getPanelView().setPage("page_settings")})}})}),elementor.hooks.addAction("panel/open_editor/section",function(e,t,r){t.get("settings").on("change",function(o){if(void 0!==o.changed.rey_flex_wrap){var e=t.get("elements");0<e.length&&l.each(e.models,function(e,t){var n=t.get("settings");if(n.set("section_rey_flex_wrap",o.changed.rey_flex_wrap),""!=o.changed.rey_flex_wrap&&""==n.get("rey_flex_wrap_inline_size")){n.set("rey_flex_wrap_inline_size",100);l("> .elementor-container > .elementor-row > .elementor-column.elementor-top-column",r.$el).each(function(e,t){l(t).attr("data-col",100)})}})}})}),elementor.hooks.addAction("panel/open_editor/column",function(e,t,n){var o=t.get("settings"),r=n._parent.model.get("settings").get("rey_flex_wrap");o.set("section_rey_flex_wrap",r)}),void 0!==elementor.config.rey&&void 0!==elementor.config.rey.global_links&&l.each(elementor.config.rey.global_links,function(e,t){void 0!==t.show_in_el_menu&&!1===t.show_in_el_menu||elementor.modules.layouts.panel.pages.menu.Menu.addItem({icon:t.icon,title:t.title,link:t.link,type:"link",newTab:!0},"settings")}),elementor.channels.editor.on("rey:editor:hide_header",function(e){l("button",e.$el).toggleClass("--active"),l(".rey-siteHeader",elementor.$previewContents).toggleClass("rey--disable-header")}),elementor.channels.editor.on("rey:editor:hide_gs",function(e){l("button",e.$el).toggleClass("--active"),l("body",elementor.$previewContents).toggleClass("rey--disable-gs")}),e=l("#tmpl-elementor-element-library-element"),t=e.text(),n='<div class="elementor-element"',t=t.replace(n,'<div class="elementor-element" data-widget-type="{{ widgetType }}"'),e.text(t),function(){if(void 0!==elementor.config.rey){var e=l("#tmpl-elementor-panel-footer-content"),t='<div id="elementor-panel-footer-navigator',n=e.text(),o="";o+='<div id="elementor-panel-footer-rey" class="elementor-panel-footer-tool elementor-toggle-state tooltip-target" data-tooltip="'+reyElementorEditorParams.rey_title+'"><span id="elementor-panel-footer-rey-label"><img src="'+reyElementorEditorParams.rey_icon+'" /><span class="elementor-screen-only">'+reyElementorEditorParams.rey_title+"</span></span>",o+='<div class="elementor-panel-footer-sub-menu-wrapper"><div class="elementor-panel-footer-sub-menu">',void 0!==elementor.config.rey.global_links&&l.each(elementor.config.rey.global_links,function(e,t){var n=void 0!==t.class?t.class:"";o+='<a href="'+t.link+'" target="_blank" class="elementor-panel-footer-sub-menu-item '+n+'"><i class="elementor-icon '+t.icon+'" aria-hidden="true"></i><span class="elementor-title">'+t.title+"</span></a>"}),o+="</div></div>",o+="</div>",o+=t,n=n.replace(t,o),e.text(n)}}(),elementor.hooks.addFilter("editor/style/styleText",function(e,t){if(void 0===t)return e;if(t.hasOwnProperty("getElementType")&&"section"!==t.getElementType()||t.hasOwnProperty("getEditModel")&&"section"!==t.getEditModel().get("elType"))return e;var n=t.getEditModel().get("settings").get("rey_custom_css");return n&&(e+=n.replace(/SECTION-ID/g,"."+t.getElementUniqueID())),e});var i=function(e){e.preventDefault();var t=l(".ace_editor",l(this).closest(".elementor-control"));if(t.length&&void 0!==t[0].env.editor){var n=t[0].env.editor,o=n.session.getValue();if(l(this).is("span"))var r=l(this).text();else if(l(this).is("select"))r=l(this).val();n.focus(),n.navigateFileEnd(),o&&(r="\n"+r),n.session.insert(n.getCursorPosition(),r)}};l(document).on("change",".js-insertSnippetToEditor",i),l(document).on("click",".js-insertToEditor",i),elementor.channels.editor.on("section:activated",function(e,t){var n=t.getOption("editedElementView").getEditModel();if("section"===n.get("elType")){var o=function(e,t){var n=e.get("rey_custom_css"),o=l(".elementor-control-section_rey_custom_CSS .elementor-panel-heading-title .rey-hasStylesNotice",t);""!==n?o.addClass("--visible"):o.removeClass("--visible")},r=n.get("settings");o(r,t.$el),r.on("change",function(){o(r,t.$el)})}});var a=elementor.modules.controls.Select2.extend({cache:null,isTitlesReceived:!1,getSelect2Placeholder:function(){return{id:"",text:this.model.get("placeholder")}},getSelect2DefaultOptions:function(){var o=this;return l.extend(elementor.modules.controls.Select2.prototype.getSelect2DefaultOptions.apply(this,arguments),{ajax:{transport:function(e,t,n){return elementorCommon.ajax.addRequest("rey_query_control_filter_autocomplete",{data:{q:e.data.q,query_args:o.model.get("query_args")},success:t,error:n})},data:function(e){return{q:e.term}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})},getValueTitles:function(){var t=this,e=this.getControlValue(),n=this.model.get("query_args"),o=n.type;e&&n&&(_.isArray(e)||(e=[e]),elementorCommon.ajax.load({action:"rey_query_control_value_titles",unique_id:t.cid+o,data:{query_args:n,values:e},success:function(e){t.isTitlesReceived=!0,t.model.set("options",e),void 0!==t.ui.select&&t.render()},before:function(){t.addSpinner()}}))},addSpinner:function(){this.ui.select.prop("disabled",!0),this.$el.find(".elementor-control-title").after('<span class="elementor-control-spinner">&nbsp;<i class="fa fa-spinner fa-spin"></i>&nbsp;</span>')},onReady:function(){this.ui.select.select2(this.getSelect2Options()),this.isTitlesReceived||this.getValueTitles()}});elementor.addControlView("rey-query",a)}}(jQuery);