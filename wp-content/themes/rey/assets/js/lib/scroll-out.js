var ScrollOut=function(){"use strict";function S(t,e,n){return t<e?e:n<t?n:t}function b(t){return+(0<t)-+(t<0)}var e={};function w(t){return e[t]||(e[t]=t.replace(/([A-Z])/g,n))}function n(t){return"-"+t[0].toLowerCase()}var y=window,A=document.documentElement;function D(t,e){return t&&0!==t.length?t.nodeName?[t]:[].slice.call(t[0].nodeName?t:(e||A).querySelectorAll(t)):[]}var E,H=function(t,e){for(var n in e)t.setAttribute("data-"+w(n),e[n])},L=[];function P(){L.slice().forEach(function(t){return t()}),E=L.length?requestAnimationFrame(P):0}function x(){}var O="scroll",W="resize",_="addEventListener",M="removeEventListener",N=0;return function(h){var o,l,c,i,g,p,e,s=(h=h||{}).onChange||x,f=h.onHidden||x,u=h.onShown||x,a=h.cssProps?(o=h.cssProps,function(t,e){for(var n in e)(!0===o||o[n])&&t.style.setProperty("--"+w(n),(r=e[n],Math.round(1e4*r)/1e4));var r}):x,t=h.scrollingElement,m=t?D(t)[0]:y,X=t?D(t)[0]:A,r=++N,v=function(t,e,n){return t[e+r]!==(t[e+r]=JSON.stringify(n))},n=function(){i=!0},d=function(){i&&(i=!1,c=D(h.targets||"[data-scroll]",D(h.scope||X)[0]).map(function(t){return{$:t,ctx:{}}}));var v=X.clientWidth,d=X.clientHeight,t=b(-g+(g=X.scrollLeft||y.pageXOffset)),e=b(-p+(p=X.scrollTop||y.pageYOffset)),n=X.scrollLeft/(X.scrollWidth-v||1),r=X.scrollTop/(X.scrollHeight-d||1);l={scrollDirX:t,scrollDirY:e,scrollPercentX:n,scrollPercentY:r},c.forEach(function(t){for(var e=t.$,n=e,r=0,o=0;r+=n.offsetLeft,o+=n.offsetTop,(n=n.offsetParent)&&n!==m;);var i=e.clientWidth||e.offsetWidth||0,l=e.clientHeight||e.offsetHeight||0,c=(S(r+i,g,g+v)-S(r,g,g+v))/i,s=(S(o+l,p,p+d)-S(o,p,p+d))/l,f=S((g-(i/2+r-v/2))/(v/2),-1,1),u=S((p-(l/2+o-d/2))/(d/2),-1,1),a=+(h.offset?h.offset<=p:(h.threshold||0)<c*s);t.ctx={elementHeight:l,elementWidth:i,intersectX:1===c?0:b(r-g),intersectY:1===s?0:b(o-p),offsetX:r,offsetY:o,viewportX:f,viewportY:u,visible:a,visibleX:c,visibleY:s,visibilityX:Math.round(c),visibilityY:Math.round(s)}})},Y=(e=function(){if(c){var t={scrollDirX:l.scrollDirX,scrollDirY:l.scrollDirY};v(X,"_SA",t)&&H(X,t),v(X,"_S",l)&&a(X,l);for(var e=c.length-1;-1<e;e--){var n=c[e],r=n.$,o=n.ctx,i=o.visible;v(r,"_SO",o)&&a(r,o),v(r,"_SV",i)&&(H(r,{scroll:i?"in":"out"}),o.index=e,s(r,o,X),(i?u:f)(r,o,X)),i&&h.once&&c.splice(e,1)}}},L.push(e),E||P(),function(){!(L=L.filter(function(t){return t!==e})).length&&E&&(E=0,cancelAnimationFrame(E))});return n(),d(),y[_](W,d),m[_](O,d),{index:n,teardown:function(){Y(),y[M](W,d),m[M](O,d)},update:d}}}();