!function(l){"use strict";var d=function(){setTimeout(function(){l(document).trigger("reycore/minicart/open")},500)};l(document.body).on("added_to_cart",function(e,a,t,r){var o=!r.hasClass("single_add_to_cart_button");if("yes"!==wc_add_to_cart_params.cart_redirect_after_add&&"popup"===l.reyHelpers.params.after_add_to_cart){if(o&&!1===l.reyHelpers.params.after_add_to_cart_popup_config.show_in_loop||r.closest(".product").hasClass("--prevent-aatc"))return void d();!function(e){if(void 0!==l.reyCore){e||(e=l(".single_add_to_cart_button:not(.disabled)"));var a=wp.template("reycore-aatc-tpl");if(l.reyHelpers.is_desktop&&!e.hasClass("--prevent-aatc")){var t=e.attr("data-product_id")||e.val()||e.closest("form.cart").find('input[name="product_id"]').val()||"";t?l.reyCore.reyModal.init({onInit:function(i){i.$instance.length?l(".slick-initialized",i.$instance).slick("refresh"):void 0!==l.reyHelpers.params.ajaxurl?l.ajax({type:"POST",url:l.reyHelpers.params.ajaxurl,dataType:"json",data:{action:"reycore_after_add_to_cart_popup",product_id:t},success:function(e){var a=l(".rey-acPopup-content",i.$newContent);if(l(".rey-modalLoader",i.$modal).fadeOut("fast"),!e||e&&""===e.data)a.html("Couldn't retrieve data!");else{var t=a.html(e.data),r=l("ul.products",t),o=l("li.product",t),d=parseInt(t.attr("data-cols"))||4;if(r.length&&(l(document).trigger("rey/product/loaded",[o]),l(".add_to_cart_button",t).addClass("--prevent-aatc"),r.hasClass("--carousel")&&o.length>d)){var n=wp.template("reyArrowSvg"),s=n({direction:"left"}),p=n({direction:"right"}),c=l('<div class="rey-acPopup-nav"></div>').insertAfter(l(".rey-acPopup-header h2",i.$modal));r.removeClass(function(e,a){return(a.match(/(^|\s)columns-\S+/g)||[]).join(" ")}).slick({dots:!1,infinite:!0,speed:300,arrows:!0,nextArrow:p,prevArrow:s,appendArrows:c,slidesToShow:d,slidesToScroll:1,autoplay:l.reyHelpers.params.after_add_to_cart_popup_config.autoplay,autoplaySpeed:parseInt(l.reyHelpers.params.after_add_to_cart_popup_config.autoplay_speed)})}}}}):console.warn("Ajax url undefined")},width:1200,content:a(),removeLoadingOnOpen:!1,wrapperClass:"rey-acPopup-modal",id:"aatc-"+t}):d()}else d()}else console.warn("$.reyCore undefined.")}(r)}})}(jQuery);