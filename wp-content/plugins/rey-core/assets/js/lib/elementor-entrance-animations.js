!function(o){"use strict";var e={animation_durations:{slow:1500,fast:300},translatePath:{left:{property:"scaleX",origin:{default:"left center",flip:"right center"}},top:{property:"scaleY",origin:{default:"center top",flip:"center bottom"}}},getTransformPathCSS:function(e,t,n){return{transform:this.translatePath[t].property+"("+e+")","transform-origin":this.translatePath[t].origin[!0===n?"flip":"default"]}},init:function(){if(!o.reyHelpers.is_edit_mode)if(o.reyHelpers.is_desktop){this.registerEvents();var e=this;0<o.reyHelpers.$sitePreloader.length?o(document).on("rey/site_loaded",function(){e.animateElementsInViewport()}):this.animateElementsInViewport()}else o(".rey-animate-el.elementor-section, .rey-animate-el.rey-anim--subject-column, .rey-animate-el.rey-anim--subject-widgets .elementor-widget").addClass("--started --finished")},registerEvents:function(){var i=this;o(document).on("rey/elementor_section/init_element",function(e,t){var n=o(t),a=i.getSettings(n);i.makeMarkup(n,a)}),o(document).on("rey/elementor_column/init_element",function(e,t){var n=o(t),a=i.getSettings(n);"widgets"==a.subject?o("> .elementor-column-wrap > .elementor-widget-wrap > .elementor-element.elementor-widget",n).each(function(e,t){var n=a;o(t).is("[data-rey-anim-config]")&&(n=i.getSettings(o(t),a)),i.makeMarkup(o(t),n)}):i.makeMarkup(n,a)}),o(document).on("rey/elementor_section/animation_complete",function(e,t,n){o(".rey-animate-el",n).each(function(e,t){var n=o(t),a=i.getSettings(n);"parent"==a.activation_trigger&&(o(document).trigger("rey/elementor_column/init_element",[t]),"widgets"==a.subject?i.animateWidgets(n,a):i.runAnimations(n,a))})})},splitLines:function(n,a){var i=n.html().split("<br>"),e=n.text();n.empty(),1<i.length?o.each(i,function(e,t){n.append('<span class="rey-animator animatorId--'+a.id+'">'+t+"</span>"+(e==i.length-1?"":"<br>"))}):n.append('<span class="rey-animator animatorId--'+a.id+'">'+e+"</span>")},makeMarkup:function(e,n){var a=this;n.id=e.attr("data-id");var t="widgets"==n.subject?"data-widget_type":"data-element_type";switch(e.attr(t)){case"heading.default":var i=o(".elementor-heading-title",e);i.children("a").length&&(i=i.children("a")),this.splitLines(i,n);break;case"text-editor.default":o(".elementor-text-editor p",e).each(function(e,t){a.splitLines(o(t),n)});break;case"button.default":o(".elementor-button-wrapper",e).addClass("rey-animator animatorId--"+n.id);break;case"image.default":o(".elementor-image",e).addClass("rey-animator animatorId--"+n.id);break;default:e.addClass("rey-animator animatorId--"+n.id)}this.makeMarkupAnimations(e,n)},makeMarkupAnimations:function(e,t){var n="widgets"==t.subject?e.hasClass("rey-animator")?e:o(".rey-animator",e):e;if("reveal"==t.animation_type){if(n.css(this.getTransformPathCSS(0,t.reveal_direction)),"column"==t.subject&&"column"==t.element_type){var a=n.children(".elementor-column-wrap.elementor-element-populated");n.css({overflow:"hidden","padding-left":0,"padding-right":0,"border-left":n.css("padding-left")+" solid transparent","border-right":n.css("padding-right")+" solid transparent",margin:a.css("margin")}),a.css("margin",0)}var i=o('<div class="bgHolder--'+t.id+'"></div>').css(this.getTransformPathCSS(1,t.reveal_direction,!0)).css({"background-color":t.reveal_bg});n.append(i),t.reveal_zoom&&"column"==t.subject&&n.children(".rey-animator-inner").addClass("zoomer--"+t.id)}else"slide-hidden"==t.animation_type&&"widgets"==t.subject&&n.wrapInner('<div class="rey-animator-inner rey-animator-inner--'+t.id+'" />')},getSettings:function(e,t){t=t||{duration:750,delay:0,activation_trigger:"viewport",subject:"column",reveal_bg:"#eeeff3",reveal_zoom:!1};var n=o.extend(t,JSON.parse(e.attr("data-rey-anim-config")||"{}"));return n.duration=isNaN(n.duration)?this.animation_durations[n.duration]:n.duration,n.delay=parseFloat(n.delay),n},animateElementsInViewport:function(){var i=this,r=[];o(".rey-animate-el.rey-anim--viewport[data-rey-anim-config]").each(function(e,t){var n=o(t),a=i.getSettings(n);o(document).trigger("rey/elementor_"+a.element_type+"/init_element",[t]),r.push(t)}),r&&"undefined"!=typeof ScrollOut&&ScrollOut({targets:r.reverse(),once:!0,threshold:.25,onShown:function(e,t,n){var a=i.getSettings(o(e));"widgets"==a.subject?i.animateWidgets(o(e),a):i.runAnimations(o(e),a)}})},animateWidgets:function(e,i){var r=this,s=parseFloat(i.delay);o("> .elementor-column-wrap > .elementor-widget-wrap > .elementor-widget",e).each(function(e,t){var n=o(t),a=i;n.is("[data-rey-anim-config]")&&(a=r.getSettings(n,i),s=a.delay),a.delay=80*e+s,a.id=n.attr("data-id"),a.reveal_zoom=!1,r.runAnimations(n,a)})},runAnimations:function(e,t){var n={target:e,trigger:"rey/elementor_"+t.element_type+"/animation_complete",settings:t};"reveal"==t.animation_type?this.animateReveal(n):"fade-in"==t.animation_type?this.animateFadeIn(n):"fade-slide"==t.animation_type?this.animateFadeInSlide(n):"slide-hidden"==t.animation_type&&this.animateSlideHidden(n)},resetAnimation:function(e){e.target.addClass("--finished"),"reveal"==e.settings.animation_type&&(e.target.attr("style",""),o(".bgHolder--"+e.target.attr("data-id")).remove(),o(e.target).children(".rey-animator-inner").css("margin","")),"widgets"!=e.settings.subject&&o(document).trigger(e.trigger,[e.settings,e.target[0]])},animateReveal:function(n){var e=this;if(n&&"undefined"!=typeof anime){var t=n.target,a=anime.timeline({easing:"easeInOutQuart",duration:n.settings.duration,delay:function(e,t){return 150*t+parseFloat(n.settings.delay)},begin:function(){t.addClass("--started")},complete:function(){e.resetAnimation(n)}}),i=t[0];t.hasClass("animatorId--"+n.settings.id)||(i=t[0].querySelectorAll(".animatorId--"+n.settings.id));var r={targets:i};r[this.translatePath[n.settings.reveal_direction].property]=[0,1],a.add(r);var s={targets:t[0].querySelectorAll(".bgHolder--"+n.settings.id),delay:function(e,t){return 150*t}};s[this.translatePath[n.settings.reveal_direction].property]=[1,0],a.add(s),n.settings.reveal_zoom&&a.add({targets:t[0].querySelectorAll(".zoomer--"+n.settings.id),duration:n.settings.duration,scale:[1.15,1],delay:function(e,t){return 150*t}},"-="+n.settings.duration)}},animateFadeIn:function(n){var e=this;if(n&&"undefined"!=typeof anime){var t=n.target[0].querySelectorAll(".animatorId--"+n.settings.id);t.length||(t=n.target[0]),anime({easing:"easeOutQuart",opacity:[0,1],duration:n.settings.duration,targets:t,delay:function(e,t){return 150*t+parseFloat(n.settings.delay)},begin:function(){n.target.addClass("--started")},complete:function(){e.resetAnimation(n)}})}},animateFadeInSlide:function(n){var e=this;if(n&&"undefined"!=typeof anime){var t=n.target[0].querySelectorAll(".animatorId--"+n.settings.id);t.length||(t=n.target[0]),anime({easing:"easeOutQuart",opacity:[0,1],translateY:[100,0],duration:n.settings.duration,targets:t,delay:function(e,t){return 150*t+parseFloat(n.settings.delay)},begin:function(){n.target.addClass("--started")},complete:function(){e.resetAnimation(n)}})}},animateSlideHidden:function(n){var e=this;n&&"undefined"!=typeof anime&&anime({easing:"easeOutQuart",translateY:["105%",0],duration:n.settings.duration,targets:n.target[0].querySelectorAll(".rey-animator-inner--"+n.settings.id),delay:function(e,t){return 150*t+parseFloat(n.settings.delay)},begin:function(){n.target.addClass("--started")},complete:function(){e.resetAnimation(n)}})}};o(document).ready(function(){e.init()})}(jQuery);